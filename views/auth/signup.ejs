<!DOCTYPE html>
<html lang="en" class="app">
<head>
<meta charset="utf-8" />
<title>Shamman | <%= __('Sign up') %></title>

<link rel="stylesheet" href="/css/app.v1.css" type="text/css" />
<link rel="stylesheet" href="/js/jgrowl/jquery.jgrowl.min.css" type="text/css" />
<!--[if lt IE 9]> <script src="js/ie/html5shiv.js"></script> <script src="js/ie/respond.min.js"></script> <script src="js/ie/excanvas.js"></script> <![endif]-->

<script src="/js/jquery-1.11.1.min.js"></script>
<script type="text/javascript" src="/js/jgrowl/jquery.jgrowl.min.js"></script>
<meta charset="utf-8" />
<meta name="description" content="app, web app, responsive, admin dashboard, admin, flat, flat ui, ui kit, off screen nav" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<link rel="stylesheet" href="/css/app.v1.css" type="text/css" />
<link rel="shortcut icon" href="/images/logo.png">
<meta name="description" content="app, web app, responsive, admin dashboard, admin, flat, flat ui, ui kit, off screen nav" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<link rel="shortcut icon" href="/images/logo.png">
<link rel="stylesheet" href="css/app.v1.css" type="text/css" />
<!--[if lt IE 9]> <script src="js/ie/html5shiv.js"></script> <script src="js/ie/respond.min.js"></script> <script src="js/ie/excanvas.js"></script> <![endif]-->
</head>
<body class="">
<section id="content" class="m-t-lg wrapper-md animated fadeInDown">
  <div class="container aside-xl"> <a class="navbar-brand block" href="index.html">Shamman</a>
    <section class="m-b-lg">
      <header class="wrapper text-center"> <strong><%= __('Sign up to find interesting thing') %></strong> </header>
      <form action="/signup" method="post" id="form_signup">
        <input type='hidden' name='_csrf' value='<%= _csrf %>'>
        <div class="list-group">
          <div class="list-group-item">
            <input id="first_name" name="first_name" placeholder="<%= __('First Name') %>" class="form-control no-border">
          </div>
          <div class="list-group-item">
            <input id="last_name" name="last_name" placeholder="<%= __('Last Name') %>" class="form-control no-border">
          </div>
          <div class="list-group-item">
            <input id="username" name="username" placeholder="<%= __('Username') %>" class="form-control no-border">
          </div>
          <div class="list-group-item">
            <input id="email" name="email" type="email" placeholder="<%= __('Email') %>" class="form-control no-border">
          </div>
          <div class="list-group-item">
            <input id="password" name="password" type="password" placeholder="<%= __('Password') %>" class="form-control no-border">
          </div>
          <div class="list-group-item">
            <input id="repeat" name="repeat" type="password" placeholder="<%= __('Repeat Password') %>" class="form-control no-border">
          </div>
        <div class="checkbox i-checks">
          <label>
            <input type="checkbox" id="accept" value="">
            <i></i> <%= __('Agree the') %> <a href="terms"><%= __('terms and policy') %></a> </label>
        </div>
        <button type="submit" class="btn btn-lg btn-primary btn-block"><%= __('Sign up') %></button>
        <div class="line line-dashed"></div>
        <p class="text-muted text-center"><small><%= __('Already have an account?') %></small></p>
        <a href="login" class="btn btn-lg btn-default btn-block"><%= __('Sign in') %></a>
      </form>
    </section>
  </div>
</section>
<!-- footer -->
<footer id="footer">
  <div class="text-center padder clearfix">
    <p> <small><%= __('Web app framework base on Sails.js') %><br>
      &copy; 2014</small> </p>
  </div>
</footer>
<!-- / footer -->
<!-- Bootstrap -->
<!-- App -->

<script type="text/javascript">
  $(document).on('ready', function(){
    $.jGrowl.defaults.closerTemplate = "<div>Ocultar todas las notificaciones</div>";
    $('#form_signup').on('submit', function(){
      if(!validate()) return false;
      else{
        return true;
      }
    });
  });

  function eraseParsleyErrorClass(selector){
    $('input,select,textarea').removeClass('parsley-error');
    $(selector).focus();
    $(selector).addClass('parsley-error');
  }

  function cleanFrom(){
    $('input[type=text],input[type=email],input[type=password],input[type=date],input[type=time],textarea').val('');
    $('select').val(null);
  }

  var emailREG = /[\w-\.]{3,}@([\w-]{2,}\.)*([\w-]{2,}\.)[\w-]{2,4}/;

  function validate(){
    if($('#first_name').val()==''){
      $.jGrowl("Esciba su nombre");
      eraseParsleyErrorClass('#first_name');
      return false;
    }
    else if($('#last_name').val()==''){
      $.jGrowl("Esciba su apellido");
      eraseParsleyErrorClass('#last_name');
      return false;
    }
    else if($('#username').val()==''){
      $.jGrowl("Designe un nombre de usuario");
      eraseParsleyErrorClass('#username');
      return false;
    }
    else if($('#email').val()==''){
      $.jGrowl("Escriba su correo electrónico");
      eraseParsleyErrorClass('#email');
      return false;
    }
    else if(!$('#email').val().match(emailREG)){
      $.jGrowl("Esciba un correo eletrónico válido");
      eraseParsleyErrorClass('#email');
      return false;
    }
    else if($('#password').val()==''){
      $.jGrowl("Esciba una contrseña");
      eraseParsleyErrorClass('#password');
      return false;
    }
    else if($('#repeat').val()==''){
      $.jGrowl("Debe confirmar su contrseña");
      eraseParsleyErrorClass('#repeat');
      return false;
    }
    else if($('#password').val() != $('#repeat').val()){
      $.jGrowl("Las contraseñas no coinciden");
      eraseParsleyErrorClass('#password');
      $('#repeat').val('') ;
      $('#password').val('');
      $('#repeat').addClass('parsley-error');
      return false;
    }
    else if(!$('#accept').is(':checked')){
      $.jGrowl("Debe aceptar los términos y condiciones");
      eraseParsleyErrorClass('#accept');
      return false;
    }
    else {
      return true;
    }
  }
</script>
</body>
</html>